<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="css/style.css">


    <title th:text="#{newsubtask}"></title>
</head>

<body>
<header id="nav" class="nav">
    <a href="/" th:text="#{overview}"></a></li>
    <a href="/tasks/new" th:text="#{createtask}"></a>
    <span th:text="#{lang.change}"></span>:
    <select id="locales">
        <option value=""></option>
        <option value="en" th:text="#{lang.en}"></option>
        <option value="nl" th:text="#{lang.nl}"></option>
    </select>
</header>
<form action="/tasks/sub/create" method="post">
    <h2 th:text="#{newsubtask}"></h2>
    <div class="form-group">
        <label for="titel" th:text="#{title}"></label>
        <input type="text" class="form-control" id="titel" name="titel" placeholder="title" required>
    </div>

    <div class="form-group">
        <label for="beschrijving" th:text="#{description}"></label>
        <textarea class="form-control" id="beschrijving" name="beschrijving" rows="3" required></textarea>
    </div>

    <input type="hidden" name="id" th:value="*{id}">

    <button type="submit" class="btn btn-primary" th:text="#{submit}"></button>
</form>

</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js">
</script>
<script type="text/javascript">
    $(document).ready(function() {
        $("#locales").change(function () {
            var selectedOption = $('#locales').val();
            if (selectedOption != ''){
                window.location.replace('?lang=' + selectedOption);
            }
        });
    });
</script>
</html>